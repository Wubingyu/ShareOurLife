<?xml version="1.0" encoding="utf-8"?>

<layout xmlns:tools="http://schemas.android.com/tools"
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>
        <variable
            name="vm"
            type="com.example.shareourlife.myProfile.ProfileViewModel" />
    </data>

    <!--<LinearLayout-->
        <!--android:orientation="vertical"-->
        <!--android:layout_width="match_parent"-->
        <!--android:layout_height="match_parent">-->

        <!--<LinearLayout-->
            <!--android:orientation="horizontal"-->
            <!--android:layout_width="match_parent"-->
            <!--android:layout_height="0dp"-->
            <!--android:layout_weight="2">-->

            <!--<ImageView-->
                <!--android:layout_width="0dp"-->
                <!--android:layout_height="match_parent"-->
                <!--android:layout_weight="1"-->
                <!--android:src="@drawable/sakura" />-->

            <!--<EditText-->
                <!--android:layout_width="0dp"-->
                <!--android:layout_weight="2"-->
                <!--android:layout_height="match_parent"-->
                <!--android:textSize="25dp"-->
                <!--android:gravity="left|center"-->
                <!--android:text="吴凡" />-->
        <!--</LinearLayout>-->

        <!--<LinearLayout-->
            <!--android:layout_width="match_parent"-->
            <!--android:layout_height="0dp"-->
            <!--android:layout_weight="1"-->
            <!--android:orientation="horizontal">-->

            <!--<TextView-->
                <!--android:id="@+id/Following_text"-->
                <!--android:layout_width="60dp"-->
                <!--android:layout_height="match_parent"-->
                <!--android:text="关注"-->
                <!--android:textSize="25dp"-->
                <!--android:gravity="left|center"-->
                <!--android:onClick="@{vm.Jump_toFollowingList}"/>-->

            <!--<TextView-->
                <!--android:layout_width="100dp"-->
                <!--android:layout_height="match_parent"-->
                <!--android:text="25"-->
                <!--android:textSize="25dp"-->
                <!--android:gravity="left|center"-->
                <!--android:onClick="@{vm.Jump_toFollowingList}"/>-->

            <!--<TextView-->
                <!--android:layout_width="60dp"-->
                <!--android:layout_height="match_parent"-->
                <!--android:text="粉丝"-->
                <!--android:textSize="25dp"-->
                <!--android:gravity="left|center"-->
                <!--android:onClick="@{vm.Jump_toFollowerList}"/>-->

            <!--<TextView-->
                <!--android:layout_width="100dp"-->
                <!--android:layout_height="match_parent"-->
                <!--android:text="198"-->
                <!--android:textSize="25dp"-->
                <!--android:gravity="left|center"-->
                <!--android:onClick="@{vm.Jump_toFollowerList}" />-->

        <!--</LinearLayout>-->

        <!--<Button-->
            <!--android:layout_width="match_parent"-->
            <!--android:layout_height="0dp"-->
            <!--android:layout_weight="1"-->
            <!--android:text="消息列表"-->
            <!--android:gravity="left|center"-->
            <!--android:textSize="30dp"-->
            <!--android:textAllCaps="false" />-->

        <!--<Button-->
            <!--android:layout_width="match_parent"-->
            <!--android:layout_height="0dp"-->
            <!--android:layout_weight="1"-->
            <!--android:text="自定义皮肤"-->
            <!--android:gravity="left|center"-->
            <!--android:textSize="30dp"-->
            <!--android:textAllCaps="false" />-->

        <!--<LinearLayout-->
            <!--android:layout_width="match_parent"-->
            <!--android:layout_height="0dp"-->
            <!--android:layout_weight="6"-->
            <!--android:orientation="vertical">-->

            <!--<EditText-->
                <!--android:layout_width="match_parent"-->
                <!--android:layout_height="0dp"-->
                <!--android:layout_weight="1"-->
                <!--android:text="爱好"-->
                <!--android:gravity="left|center"-->
                <!--android:textSize="30dp" />-->

            <!--<EditText-->
                <!--android:layout_width="match_parent"-->
                <!--android:layout_height="0dp"-->
                <!--android:layout_weight="5"-->
                <!--android:text="      台球、旅游、音乐"-->
                <!--android:gravity="left" />-->


            <!--&lt;!&ndash;<LinearLayout&ndash;&gt;-->
                <!--&lt;!&ndash;android:layout_width="match_parent"&ndash;&gt;-->
                <!--&lt;!&ndash;android:layout_height="0dp"&ndash;&gt;-->
                <!--&lt;!&ndash;android:layout_weight="1"&ndash;&gt;-->
                <!--&lt;!&ndash;android:orientation="horizontal"&ndash;&gt;-->
                <!--&lt;!&ndash;&gt;&ndash;&gt;-->
                <!--&lt;!&ndash;<Button&ndash;&gt;-->
                    <!--&lt;!&ndash;android:id="@+id/click_toFollowingList"&ndash;&gt;-->
                    <!--&lt;!&ndash;android:layout_width="0dp"&ndash;&gt;-->
                    <!--&lt;!&ndash;android:layout_height="match_parent"&ndash;&gt;-->
                    <!--&lt;!&ndash;android:layout_weight="1"&ndash;&gt;-->
                    <!--&lt;!&ndash;android:text="toFollowingList"&ndash;&gt;-->
                    <!--&lt;!&ndash;/>&ndash;&gt;-->
            <!--&lt;!&ndash;</LinearLayout>&ndash;&gt;-->
        <!--</LinearLayout>-->

        <!--</LinearLayout>-->
    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fitsSystemWindows="true">

        <android.support.design.widget.AppBarLayout
            android:id="@+id/appBar_profile"
            android:layout_width="match_parent"
            android:layout_height="200dp">

<!--
这个是全部滑动
app:layout_scrollFlags="scroll|enterAlways|snap"
-->
             <android.support.design.widget.CollapsingToolbarLayout
                 android:id="@+id/CollapsingToolbarLayout_profile"
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 app:layout_scrollFlags="scroll|exitUntilCollapsed">
                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:scaleType="centerCrop"
                    android:src="@drawable/img1"
                    app:layout_collapseMode="parallax"/>

                 <!--问题一：layout_height不能为wrap，会占满appbar
                 问题二：toolbar占据的部分没办法滑动消失，设置layout_collapseMode只是让toolbar里的子控件跟随滑动与否。我认为可能可以在代码中设置visible-->
                 <android.support.v7.widget.Toolbar
                     android:id="@+id/toolbar_profile"
                     android:layout_width="match_parent"
                     android:layout_gravity="bottom"
                     android:layout_height="70dp">

                     <LinearLayout
                         android:layout_width="match_parent"
                         android:layout_height="wrap_content"
                         android:orientation="vertical">
                         <LinearLayout
                             android:layout_width="match_parent"
                             android:layout_height="wrap_content"
                             android:orientation="horizontal">

<!--                             <ImageView
                                 android:id="@+id/userHead_profile"
                                 android:layout_width="52dp"
                                 android:layout_height="50dp"
                                 android:layout_marginLeft="30dp"
                                 android:layout_marginRight="15dp"
                                 android:src="@drawable/sakura" />-->

                             <TextView
                                 android:alpha="0.8"
                                 android:layout_marginLeft="30dp"
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content"
                                 android:layout_gravity="center"
                                 android:textColor="@color/white"
                                 android:textSize="20dp"
                                 android:text="sakura ayane"
                                 />
                         </LinearLayout>

                         <LinearLayout
                             android:id="@+id/LinearLayout_Toolbar"
                             android:layout_width="match_parent"
                             android:layout_height="wrap_content"
                             android:orientation="horizontal"
                             app:layout_collapseMode="parallax"
                             >
                             <TextView
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content"
                                 android:layout_gravity="start"
                                 android:layout_marginLeft="30dp"
                                 android:layout_marginRight="15dp"
                                 android:text="关注 "
                                 android:onClick="@{vm.Jump_toFollowingList}"
                                 android:alpha="0.7"
                                 android:textColor="@color/white"
                                 android:textSize="@dimen/textSize_follow"/>
                             <TextView
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content"
                                 android:textColor="@color/white"
                                 android:alpha="0.7"
                                 android:onClick="@{vm.Jump_toFollowingList}"
                                 android:textSize="@dimen/textSize_follow"
                                 android:text="26"/>
                             <TextView
                                 android:layout_marginLeft="90dp"
                                 android:layout_marginRight="15dp"
                                 android:text="粉丝"
                                 android:alpha="0.7"
                                 android:onClick="@{vm.Jump_toFollowerList}"
                                 android:textColor="@color/white"
                                 android:textSize="@dimen/textSize_follow"
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content" />
                             <TextView
                                 android:textColor="@color/white"
                                 android:textSize="@dimen/textSize_follow"
                                 android:text="4000"
                                 android:onClick="@{vm.Jump_toFollowerList}"
                                 android:alpha="0.7"
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content" />
                         </LinearLayout>
                     </LinearLayout>
                 </android.support.v7.widget.Toolbar>
             </android.support.design.widget.CollapsingToolbarLayout>

        </android.support.design.widget.AppBarLayout>



<!--        <android.support.v4.widget.NestedScrollView
            android:elevation="2dp"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:layout_behavior="android.support.design.widget.AppBarLayout$ScrollingViewBehavior" >

                <LinearLayout
                    android:orientation="horizontal"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">-->
                    <!--<ImageView-->
                        <!--android:layout_marginLeft="30dp"-->
                        <!--android:layout_width="wrap_content"-->
                        <!--android:layout_height="match_parent"-->
                        <!--android:src="@drawable/ic_border"-->
                        <!--android:layout_gravity="left"/>-->
                    <!--<TextView-->
                        <!--android:layout_width="match_parent"-->
                        <!--android:layout_height="wrap_content" />-->
                <!--</LinearLayout>-->
                <!--<android.support.design.button.MaterialButton-->
                    <!--android:background="@color/no8328_1"-->
                    <!--android:id="@+id/MaterialButton"-->
                    <!--android:gravity="left"-->
                    <!--android:text="编辑个人资料"-->
                    <!--android:textAllCaps="false"-->
                    <!--android:layout_width="match_parent"-->
                    <!--android:layout_height="wrap_content"-->
                    <!--app:icon="@drawable/ic_border"-->
                    <!--app:iconGravity="start"-->
                    <!--app:iconPadding="30dp"-->
                    <!--android:textAppearance="?android:attr/textAppearanceLargeInverse"-->
                    <!--app:rippleColor="@color/no8328_1"-->
                    <!--app:strokeColor="@color/no8328_1"-->
                    <!--app:strokeWidth="2dp"-->
                    <!--app:cornerRadius="10dp"-->
                    <!--app:iconSize="20dp"-->
                    <!--android:clickable="true"-->
                    <!--/>-->

            <android.support.v7.widget.RecyclerView
                android:overScrollMode="never"
                android:id="@+id/RecyclerView_profile"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="1"
                app:layout_behavior="android.support.design.widget.AppBarLayout$ScrollingViewBehavior">
            </android.support.v7.widget.RecyclerView>

<!--                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_margin="18dp"
                    android:text="@string/large_text"/>
                </LinearLayout>

        </android.support.v4.widget.NestedScrollView>-->


            <android.support.v4.view.ViewPager
                android:id="@+id/profile_ViewPager"
                android:layout_width="match_parent"
                android:layout_height="330dp"
                android:layout_gravity="bottom"
                android:clipToPadding="false"
                android:overScrollMode="never"
                android:paddingBottom="30dp"
                android:paddingEnd="60dp"
                android:paddingLeft="60dp"
                android:paddingRight="60dp"
                android:paddingStart="60dp" />



    </LinearLayout>
</layout>